{"ast":null,"code":"import { createUserApi, loginUserApi } from \"../../Api\";\nimport { showNotification } from \"../notification/actions\";\nexport const CREATE_ACCOUNT = \"CREATE_ACCOUNT\";\nexport const Add_LOGIN_USER = \"Add_LOGIN_USER\";\nexport const LOGOUT = \"LOGOUT\";\nexport const createAccount = (formData, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await createUserApi(formData);\n    dispatch({\n      type: Add_LOGIN_USER,\n      payload: data\n    });\n    dispatch(showNotification({\n      massageType: \"success\",\n      message: \"Account created successfully\"\n    }));\n    // history.push(\"/\");\n  } catch (error) {\n    var _error$response, _error$response$data;\n    console.log(error === null || error === void 0 ? void 0 : error.message);\n    dispatch(showNotification({\n      message: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message,\n      massageType: \"error\"\n    }));\n    console.log(error);\n  }\n};\nexport const loginAccount = (formData, history) => async dispatch => {\n  try {\n    const {\n      data\n    } = await loginUserApi(formData);\n    console.log(\"ðŸš€ ~ file: actions.js ~ line 34 ~ data\", data);\n    dispatch({\n      type: Add_LOGIN_USER,\n      payload: data\n    });\n    dispatch(showNotification({\n      massageType: \"success\",\n      message: `welcome ${data.userInfo.name}`\n    }));\n    // history.push(\"/\");\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    dispatch(showNotification({\n      message: error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message,\n      massageType: \"error\"\n    }));\n    console.log(error);\n  }\n};\nexport const logOut = () => async dispatch => {\n  localStorage.setItem(\"profile\", \"null\");\n  dispatch(showNotification({\n    message: \"Log Out Successful\",\n    massageType: \"success\"\n  }));\n  dispatch({\n    type: LOGOUT,\n    payload: {\n      token: null,\n      userInfo: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        isAdmin: false\n      }\n    }\n  });\n};","map":{"version":3,"names":["createUserApi","loginUserApi","showNotification","CREATE_ACCOUNT","Add_LOGIN_USER","LOGOUT","createAccount","formData","history","dispatch","data","type","payload","massageType","message","error","_error$response","_error$response$data","console","log","response","loginAccount","userInfo","name","_error$response2","_error$response2$data","logOut","localStorage","setItem","token","id","email","isAdmin"],"sources":["C:/Users/pradn/OneDrive/Desktop/FARMEASY/client/src/Redux/user/actions.js"],"sourcesContent":["import { createUserApi, loginUserApi } from \"../../Api\";\r\nimport { showNotification } from \"../notification/actions\";\r\n\r\nexport const CREATE_ACCOUNT = \"CREATE_ACCOUNT\";\r\nexport const Add_LOGIN_USER = \"Add_LOGIN_USER\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\nexport const createAccount = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await createUserApi(formData);\r\n    dispatch({ type: Add_LOGIN_USER, payload: data });\r\n    dispatch(\r\n      showNotification({\r\n        massageType: \"success\",\r\n        message: \"Account created successfully\",\r\n      })\r\n    );\r\n    // history.push(\"/\");\r\n  } catch (error) {\r\n    console.log(error?.message);\r\n    dispatch(\r\n      showNotification({\r\n        message: error?.response?.data?.message,\r\n        massageType: \"error\",\r\n      })\r\n    );\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const loginAccount = (formData, history) => async (dispatch) => {\r\n  try {\r\n    const { data } = await loginUserApi(formData);\r\n    console.log(\"ðŸš€ ~ file: actions.js ~ line 34 ~ data\", data);\r\n    dispatch({ type: Add_LOGIN_USER, payload: data });\r\n    dispatch(\r\n      showNotification({\r\n        massageType: \"success\",\r\n        message: `welcome ${data.userInfo.name}`,\r\n      })\r\n    );\r\n    // history.push(\"/\");\r\n  } catch (error) {\r\n    dispatch(\r\n      showNotification({\r\n        message: error?.response?.data?.message,\r\n        massageType: \"error\",\r\n      })\r\n    );\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const logOut = () => async (dispatch) => {\r\n  localStorage.setItem(\"profile\", \"null\");\r\n  dispatch(\r\n    showNotification({\r\n      message: \"Log Out Successful\",\r\n      massageType: \"success\",\r\n    })\r\n  );\r\n  dispatch({\r\n    type: LOGOUT,\r\n    payload: {\r\n      token: null,\r\n      userInfo: {\r\n        id: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        isAdmin: false,\r\n      },\r\n    },\r\n  });\r\n};\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,YAAY,QAAQ,WAAW;AACvD,SAASC,gBAAgB,QAAQ,yBAAyB;AAE1D,OAAO,MAAMC,cAAc,GAAG,gBAAgB;AAC9C,OAAO,MAAMC,cAAc,GAAG,gBAAgB;AAC9C,OAAO,MAAMC,MAAM,GAAG,QAAQ;AAE9B,OAAO,MAAMC,aAAa,GAAGA,CAACC,QAAQ,EAAEC,OAAO,KAAK,MAAOC,QAAQ,IAAK;EACtE,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMV,aAAa,CAACO,QAAQ,CAAC;IAC9CE,QAAQ,CAAC;MAAEE,IAAI,EAAEP,cAAc;MAAEQ,OAAO,EAAEF;IAAK,CAAC,CAAC;IACjDD,QAAQ,CACNP,gBAAgB,CAAC;MACfW,WAAW,EAAE,SAAS;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC,CACH;IACD;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACdC,OAAO,CAACC,GAAG,CAACJ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAED,OAAO,CAAC;IAC3BL,QAAQ,CACNP,gBAAgB,CAAC;MACfY,OAAO,EAAEC,KAAK,aAALA,KAAK,wBAAAC,eAAA,GAALD,KAAK,CAAEK,QAAQ,cAAAJ,eAAA,wBAAAC,oBAAA,GAAfD,eAAA,CAAiBN,IAAI,cAAAO,oBAAA,uBAArBA,oBAAA,CAAuBH,OAAO;MACvCD,WAAW,EAAE;IACf,CAAC,CAAC,CACH;IACDK,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMM,YAAY,GAAGA,CAACd,QAAQ,EAAEC,OAAO,KAAK,MAAOC,QAAQ,IAAK;EACrE,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMT,YAAY,CAACM,QAAQ,CAAC;IAC7CW,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAET,IAAI,CAAC;IAC3DD,QAAQ,CAAC;MAAEE,IAAI,EAAEP,cAAc;MAAEQ,OAAO,EAAEF;IAAK,CAAC,CAAC;IACjDD,QAAQ,CACNP,gBAAgB,CAAC;MACfW,WAAW,EAAE,SAAS;MACtBC,OAAO,EAAG,WAAUJ,IAAI,CAACY,QAAQ,CAACC,IAAK;IACzC,CAAC,CAAC,CACH;IACD;EACF,CAAC,CAAC,OAAOR,KAAK,EAAE;IAAA,IAAAS,gBAAA,EAAAC,qBAAA;IACdhB,QAAQ,CACNP,gBAAgB,CAAC;MACfY,OAAO,EAAEC,KAAK,aAALA,KAAK,wBAAAS,gBAAA,GAALT,KAAK,CAAEK,QAAQ,cAAAI,gBAAA,wBAAAC,qBAAA,GAAfD,gBAAA,CAAiBd,IAAI,cAAAe,qBAAA,uBAArBA,qBAAA,CAAuBX,OAAO;MACvCD,WAAW,EAAE;IACf,CAAC,CAAC,CACH;IACDK,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMW,MAAM,GAAGA,CAAA,KAAM,MAAOjB,QAAQ,IAAK;EAC9CkB,YAAY,CAACC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC;EACvCnB,QAAQ,CACNP,gBAAgB,CAAC;IACfY,OAAO,EAAE,oBAAoB;IAC7BD,WAAW,EAAE;EACf,CAAC,CAAC,CACH;EACDJ,QAAQ,CAAC;IACPE,IAAI,EAAEN,MAAM;IACZO,OAAO,EAAE;MACPiB,KAAK,EAAE,IAAI;MACXP,QAAQ,EAAE;QACRQ,EAAE,EAAE,EAAE;QACNP,IAAI,EAAE,EAAE;QACRQ,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE;MACX;IACF;EACF,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}